<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nuestro Primer Mes ❤️</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/833/833472.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;700&family=Dancing+Script:wght@400;700&family=Great+Vibes&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* Restablecimiento y estilos base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* Custom text selection color */
    ::selection {
        background-color: #d2a6fa;
        color: #fff;
    }
    body.dark-mode ::selection {
        background-color: #ffda66;
        color: #333;
    }

    /* Estilo del cuerpo con transiciones mejoradas y suavizado de fuente */
    body {
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(180deg, #f7e6ff 0%, #d2a6fa 50%, #9370db 100%);
      color: #4a4a4a;
      transition: background 0.7s ease-in-out, color 0.7s ease-in-out, font-size 0.7s ease-in-out;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      /* Scrollbar styling for WebKit browsers */
      scrollbar-width: thin;
      scrollbar-color: #9370db #f1f1f1;
    }
    body::-webkit-scrollbar {
        width: 10px;
    }
    body::-webkit-scrollbar-track {
        background: #f1f1f1;
    }
    body::-webkit-scrollbar-thumb {
        background-color: #9370db;
        border-radius: 6px;
        border: 2px solid #f1f1f1;
    }
    body.dark-mode::-webkit-scrollbar-track {
        background: #2a2a2a;
    }
    body.dark-mode::-webkit-scrollbar-thumb {
        background-color: #ffda66;
        border: 2px solid #2a2a2a;
    }

    /* Estilo del modo oscuro (DEFAULT) */
    body.dark-mode {
      /* Degradado oscuro inverso */
      background: linear-gradient(180deg, #1a1a1a 0%, #2a2a2a 50%, #3e3d4f 100%);
      color: #f0f0f0;
    }

    /* Estilos específicos para celular */
    body.celular {
      font-size: 1.1rem;
    }

    body.celular .reproductor {
      width: 60px;
      height: 60px;
      padding: 5px;
      top: 20px;
      right: 20px;
      left: auto;
      bottom: auto;
      transform: none;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    body.celular .reproductor img {
      width: 50px;
      height: 50px;
      margin-bottom: 0;
    }

    /* In minimized mobile view, ALL controls and text are hidden, ONLY disc is visible */
    body.celular .reproductor .titulo,
    body.celular .reproductor .tiempo,
    body.celular .reproductor .barra,
    body.celular .reproductor .volumen,
    body.celular .reproductor .controles {
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease-out;
    }

    body.celular .reproductor.maximized {
      width: 90%;
      height: auto;
      padding: 20px;
      overflow: visible;
      left: 50%;
      right: auto;
      transform: translateX(-50%);
      top: 20px;
      bottom: auto;
      align-items: stretch;
    }

    body.celular .reproductor.maximized img {
      width: 100px;
      height: 100px;
      margin-bottom: 10px;
      margin-left: auto;
      margin-right: auto;
    }

    /* When maximized on mobile, all elements become visible */
    body.celular .reproductor.maximized .titulo,
    body.celular .reproductor.maximized .tiempo,
    body.celular .reproductor.maximized .barra,
    body.celular .reproductor.maximized .volumen,
    body.celular .reproductor.maximized .controles {
      display: flex;
      opacity: 1;
      transition-delay: 0.2s;
    }
    body.celular .reproductor.maximized .titulo {
        display: block;
    }


    body.celular .triste-btn {
        width: calc(50% - 30px);
        bottom: 20px;
        left: 20px;
        right: auto;
        font-size: 0.9rem;
        padding: 12px 15px;
        z-index: 99;
    }

    body.celular .modo-btn {
        width: 45px;
        height: 45px;
        font-size: 18px;
        bottom: 20px;
        right: 20px;
    }

    /* Estilo del encabezado */
    header {
      text-align: center;
      padding: 60px 20px 30px;
      position: relative;
    }

    h1 {
      font-family: 'Great Vibes', cursive;
      font-size: 4.8rem;
      color: #8a2be2;
      transition: color 0.7s ease-in-out;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    body.dark-mode h1 {
        color: #ffda66;
        text-shadow: 2px 2px 4px rgba(255,255,255,0.1);
    }

    header p {
      font-size: 1.3rem;
      color: #666;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      margin-bottom: 30px;
    }
    body.dark-mode header p {
        color: #ccc;
    }

    header video {
        width: 70%;
        max-width: 400px;
        height: auto;
        margin: 0 auto 40px auto;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        display: block;
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, filter 0.3s ease-in-out;
        background-color: transparent;
        border: none;
        overflow: hidden;
    }
    header video:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        filter: brightness(1.05);
    }

    /* Botón "Si te sientes triste" */
    .triste-btn {
      position: fixed;
      bottom: 25px;
      left: 25px;
      background-color: #ff69b4;
      border: none;
      color: white;
      font-size: 1rem;
      padding: 15px 25px;
      border-radius: 25px;
      cursor: pointer;
      box-shadow: 0 6px 15px rgba(0,0,0,0.25);
      transition: background-color 0.4s ease-in-out, transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
      z-index: 100;
    }

    .triste-btn:hover {
      background-color: #ff1493;
      transform: translateY(-7px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.3);
    }

    /* Botón de cambio de modo oscuro/claro */
    .modo-btn {
      position: fixed;
      bottom: 25px;
      right: 25px;
      background-color: #9370db;
      border: none;
      border-radius: 50%;
      width: 55px;
      height: 55px;
      font-size: 22px;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 15px rgba(0,0,0,0.25);
      transition: background-color 0.4s ease-in-out, transform 0.3s ease-in-out, color 0.4s ease-in-out, box-shadow 0.3s ease-in-out;
      z-index: 100;
    }

    .modo-btn:hover {
      background-color: #6a5acd;
      transform: rotate(360deg);
      box-shadow: 0 10px 20px rgba(0,0,0,0.3);
    }

    body.dark-mode .modo-btn {
        background-color: #ffdb58;
        color: #333;
    }

    body.dark-mode .modo-btn:hover {
        background-color: #e0b400;
    }

    /* Animación de corazones flotantes */
    .corazones {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
    }

    .corazon {
      position: absolute;
      color: rgba(255, 105, 180, 0.15);
      font-size: 1.5rem;
      animation: flotar 10s ease-in-out infinite;
    }
    body.dark-mode .corazon {
        color: rgba(255, 192, 203, 0.25);
    }

    /* More diverse heart animations for size and delay */
    .corazon:nth-child(2n) { animation-duration: 12s;
      animation-delay: -2s;
      font-size: 1.2rem;
      opacity: 0.8;
    }
    .corazon:nth-child(3n) { animation-duration: 9s;
      animation-delay: -3s;
      font-size: 1.8rem;
      opacity: 0.9;
    }
    .corazon:nth-child(4n) { animation-duration: 11s;
      animation-delay: -1s;
      font-size: 1.0rem;
      opacity: 0.7;
    }
    .corazon:nth-child(5n) { animation-duration: 13s;
      animation-delay: -4s;
      font-size: 2.0rem;
      opacity: 1.0;
    }
    .corazon:nth-child(6n) { animation-duration: 8s;
      animation-delay: -5s;
      font-size: 1.3rem;
      opacity: 0.85;
    }
    .corazon:nth-child(7n) { animation-duration: 10.5s;
      animation-delay: -2.5s;
      font-size: 1.6rem;
      opacity: 0.95;
    }
    .corazon:nth-child(8n) { animation-duration: 9.5s;
      animation-delay: -1.5s;
      font-size: 1.1rem;
      opacity: 0.75;
    }
    .corazon:nth-child(9n) { animation-duration: 14s;
      animation-delay: -3.5s;
      font-size: 1.9rem;
      opacity: 1.0;
    }
    .corazon:nth-child(10n) { animation-duration: 7s;
      animation-delay: -0.5s;
      font-size: 1.4rem;
      opacity: 0.8;
    }
    .corazon:nth-child(11n) { animation-duration: 10s;
      animation-delay: -0.8s;
      font-size: 1.7rem;
      opacity: 0.9;
    }
    .corazon:nth-child(12n) { animation-duration: 11.5s;
      animation-delay: -2.8s;
      font-size: 1.35rem;
      opacity: 0.8;
    }
    .corazon:nth-child(13n) { animation-duration: 9.8s;
      animation-delay: -4.2s;
      font-size: 1.05rem;
      opacity: 0.7;
    }
    .corazon:nth-child(14n) { animation-duration: 12.3s;
      animation-delay: -1.2s;
      font-size: 2.1rem;
      opacity: 1.0;
    }
    .corazon:nth-child(15n) { animation-duration: 8.5s;
      animation-delay: -3.7s;
      font-size: 1.5rem;
      opacity: 0.85;
    }

    @keyframes flotar {
      from {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      20% { opacity: 1;
      }
      80% { opacity: 1;
      }
      to {
        transform: translateY(-100vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* Estilo del reproductor de música (PC por defecto, minimizado) */
    .reproductor {
      position: fixed;
      top: 25px;
      right: 25px;
      background: rgba(255,255,255,0.4);
      backdrop-filter: blur(12px);
      border-radius: 20px;
      padding: 15px;
      text-align: center;
      width: 80px;
      height: 80px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.25);
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 99;
      cursor: pointer;
    }

    .reproductor.dark-mode {
      background: rgba(0,0,0,0.6);
    }

    .reproductor img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      margin-bottom: 0;
      animation: girar 5s linear infinite;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      object-fit: cover;
      filter: saturate(1);
    }
    .reproductor img:hover {
        filter: saturate(1.1);
    }

    /* Default state for PC: ONLY disc is visible, all other elements hidden */
    .reproductor .titulo,
    .reproductor .tiempo,
    .reproductor .barra,
    .reproductor .volumen,
    .reproductor .controles {
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease-out;
    }

    /* Reproductor maximizado en PC al pasar el ratón */
    .reproductor:hover {
      width: 260px;
      height: auto;
      padding: 20px;
      overflow: visible;
      align-items: stretch;
      cursor: default;
      box-shadow: 0 12px 30px rgba(0,0,0,0.35);
    }

    .reproductor:hover img {
      width: 100px;
      height: 100px;
      margin-bottom: 10px;
      margin-left: auto;
      margin-right: auto;
    }

    /* When maximized on PC hover, all elements become visible */
    .reproductor:hover .titulo,
    .reproductor:hover .tiempo,
    .reproductor:hover .barra,
    .reproductor:hover .controles,
    .reproductor:hover .volumen {
      display: flex;
      opacity: 1;
      transition-delay: 0.2s;
    }
    .reproductor:hover .titulo {
        display: block;
    }
    .reproductor:hover .controles {
        flex-wrap: nowrap;
        position: static;
        background: none;
    }
    .reproductor:hover .controles button {
        background: none;
        border: none;
        font-size: 1.2rem;
        padding: 0;
        cursor: pointer;
        color: inherit;
        transition: color 0.3s ease-in-out, transform 0.2s ease-in-out;
    }
    .reproductor:hover .controles #btnReproducirPausar {
        font-size: 1.8rem;
    }


    @keyframes girar {
      from { transform: rotate(0deg);
      }
      to { transform: rotate(360deg);
      }
    }

    .titulo {
      font-weight: bold;
      color: inherit;
    }
    .titulo small {
        font-weight: normal;
        font-size: 0.8em;
        color: #888;
    }
    body.dark-mode .titulo small {
        color: #bbb;
    }

    /* TIEMPO DE DURACIÓN Y BARRAS (Estilo YouTube) */
    .tiempo {
        display: flex;
        justify-content: space-between;
        width: 100%;
        font-size: 0.85rem;
        color: #666;
        margin-top: 5px;
        margin-bottom: 5px;
    }
    body.dark-mode .tiempo {
        color: #ccc;
    }

    /* Estilos para la barra de progreso (Estilo YouTube) */
    .barra {
      width: 100%;
      -webkit-appearance: none;
      height: 4px;
      background: #e0e0e0;
      border-radius: 2px;
      outline: none;
      cursor: pointer;
      background-image: linear-gradient(#8a2be2, #8a2be2);
      background-repeat: no-repeat;
      background-size: 0% 100%;
      transition: background-color 0.3s ease;
      position: relative;
    }

    body.dark-mode .barra {
        background: #555;
        background-image: linear-gradient(#ffda66, #ffda66);
    }

    /* Estilo del "thumb" (indicador de la barra) para WebKit (Chrome, Safari, Edge) */
    .barra::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #8a2be2;
      cursor: pointer;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
      border: none;
      transition: background 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      margin-top: -4px;
      position: relative;
      z-index: 2;
    }

    body.dark-mode .barra::-webkit-slider-thumb {
        background: #ffda66;
    }

    .barra::-webkit-slider-thumb:hover {
        transform: scale(1.2);
        box-shadow: 0 0 8px rgba(0,0,0,0.4);
    }

    /* Estilo del "thumb" (indicador de la barra) para Firefox */
    .barra::-moz-range-thumb {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #8a2be2;
        cursor: pointer;
        box-shadow: 0 0 5px rgba(0,0,0,0.3);
        border: none;
        transition: background 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
    }
    body.dark-mode .barra::-moz-range-thumb {
        background: #ffda66;
    }
    .barra::-moz-range-thumb:hover {
        transform: scale(1.2);
        box-shadow: 0 0 8px rgba(0,0,0,0.4);
    }

    .controles {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      margin-top: 10px;
      flex-wrap: nowrap;
    }

    .controles button {
      background: none;
      border: none;
      font-size: 1.6rem;
      cursor: pointer;
      color: inherit;
      transition: color 0.3s ease-in-out, transform 0.2s ease-in-out;
    }

    .controles button:hover {
        color: #8a2be2;
        transform: scale(1.15);
    }
    body.dark-mode .controles button:hover {
        color: #ffda66;
    }

    .volumen {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* MEJORA: Estilos para el icono de volumen en hover */
    .volumen i {
        transition: color 0.3s ease-in-out, transform 0.2s ease-in-out;
    }

    .volumen i:hover {
        color: #8a2be2;
        transform: scale(1.15);
    }

    body.dark-mode .volumen i:hover {
        color: #ffda66;
    }

    #volRange {
      width: 80px;
    }
    /* Estilo específico para el thumb del volumen, siguiendo el nuevo estilo de barra */
    #volRange::-webkit-slider-thumb {
        background: #8a2be2;
        border: none;
        box-shadow: 0 0 5px rgba(0,0,0,0.3);
    }
    body.dark-mode #volRange::-webkit-slider-thumb {
        background: #ffda66;
    }
    #volRange::-moz-range-thumb {
        background: #8a2be2;
        border: none;
        box-shadow: 0 0 5px rgba(0,0,0,0.3);
    }
    body.dark-mode #volRange::-moz-range-thumb {
        background: #ffda66;
    }

    /* Estilo de las secciones */
    section {
      padding: 60px 20px;
      text-align: center;
      transition: background 0.7s ease-in-out, color 0.7s ease-in-out;
      margin-bottom: 30px;
      background: rgba(255,255,255,0.7);
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      transition: background 0.7s ease-in-out, color 0.7s ease-in-out, box-shadow 0.3s ease-in-out, transform 0.2s ease-in-out;
    }
    section:hover {
        box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        transform: translateY(-3px);
    }

    /* Adjusted for slightly darker reading sections in dark mode */
    body.dark-mode section {
        background: rgba(20, 20, 25, 0.85);
    }

    section h2 {
      font-family: 'Dancing Script', cursive;
      font-size: 2.8rem;
      margin-bottom: 25px;
      color: #9370db;
      transition: color 0.7s ease-in-out;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.2;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.05);
      transition: color 0.7s ease-in-out, text-shadow 0.3s ease-in-out;
    }
    section h2:hover {
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    body.dark-mode section h2 {
        color: #ffd700;
    }

    section p {
      max-width: 700px;
      margin: 0 auto;
      font-size: 1.15rem;
      line-height: 1.7;
      color: #555;
      text-align: justify;
      padding: 0 15px;
      text-shadow: 0.5px 0.5px 1px rgba(0,0,0,0.05); /* Added text shadow */
    }
    body.dark-mode section p {
        color: #e0e0e0;
        text-shadow: 0.5px 0.5px 1px rgba(255,255,255,0.05); /* Added text shadow for dark mode */
    }

    /* Estilos para listas dentro de las secciones */
    section ul {
        list-style: none;
        padding: 0;
        margin: 0 auto;
        max-width: 700px;
        text-align: left;
    }

    section ul li {
        font-size: 1.15rem;
        line-height: 1.7;
        color: #555;
        margin-bottom: 10px;
        padding-left: 20px;
        position: relative;
        text-shadow: 0.5px 0.5px 1px rgba(0,0,0,0.05); /* Added text shadow */
    }
    body.dark-mode section ul li {
        color: #e0e0e0;
        text-shadow: 0.5px 0.5px 1px rgba(255,255,255,0.05); /* Added text shadow for dark mode */
    }

    /* Estilo para los íconos de la lista (cambiado a puntos) */
    section ul li::before {
        content: '•';
        position: absolute;
        left: 0;
        top: 0;
        font-size: 1.2em;
        line-height: inherit;
        color: #8a2be2;
        font-weight: bold;
    }
    body.dark-mode section ul li::before {
        color: #ffda66;
    }

    /* Pantalla de bienvenida */
    #pantalla-inicio {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      color: white;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: 'Quicksand', sans-serif;
      text-align: center;
      padding: 20px;
      opacity: 1;
      transition: opacity 0.4s ease-in-out, background 0.4s ease-in-out, color 0.4s ease-in-out;
    }

    #pantalla-inicio.hidden {
        opacity: 0;
        pointer-events: none;
    }

    /* Clase para la transición de color de la pantalla de inicio */
    #pantalla-inicio.transicion-lila {
        background: linear-gradient(135deg, #f7e6ff, #d2a6fa);
        color: #4a4a4a;
    }

    .dispositivo-opciones {
      display: flex;
      gap: 50px;
      margin-top: 40px;
    }

    .dispositivo-boton {
      background: white;
      color: #8a2be2;
      width: 90px;
      height: 90px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      cursor: pointer;
      border: none;
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      transition: transform 0.3s ease-in-out, background-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    }

    .dispositivo-boton:hover {
      transform: scale(1.18);
      background-color: #f8f8f8;
      box-shadow: 0 12px 25px rgba(0,0,0,0.4);
    }

    .dispositivo-etiqueta {
      margin-top: 10px;
      font-size: 1.1rem;
      color: white;
      transition: color 0.4s ease-in-out;
    }
    #pantalla-inicio.transicion-lila .dispositivo-etiqueta {
        color: #4a4a4a;
    }

    /* Contenedor principal del contenido para la transición */
    #contenido-principal {
      transition: opacity 0.4s ease-in-out;
    }
  </style>
</head>
<body class="dark-mode">
  <div id="pantalla-inicio">
    <h2>¿En dónde estás viendo esto?</h2>
    <div class="dispositivo-opciones">
      <div>
        <button class="dispositivo-boton" onclick="seleccionarDispositivo('celular')">
          <i class="fa-solid fa-mobile-screen"></i>
        </button>
        <div class="dispositivo-etiqueta">Celular</div>
      </div>
      <div>
        <button class="dispositivo-boton" onclick="seleccionarDispositivo('pc')">
          <i class="fa-solid fa-desktop"></i>
        </button>
        <div class="dispositivo-etiqueta">PC</div>
      </div>
    </div>
  </div>

  <div id="contenido-principal" style="opacity: 0; display: none;">
    <div class="corazones">
    </div>

    <header>
      <h1>Feliz primer mes</h1>
      <p>Gracias por este tiempo tan bonito Mariana <i class="fa-solid fa-heart"></i></p>
      <video src="video/kiss.mp4" autoplay loop muted playsinline></video>
    </header>

    <button class="triste-btn" onclick="location.href='triste.html'">Cuando te sientas triste, presiona aquí</button>

    <section id="seccion1">
      <h2>Cómo me enamoré de ti</h2>
      <p>No sé en qué momento exacto empezó todo. Fue en una partida de Valorant, en Ascent, como cualquier otra noche. Prepickeó Phoenix y le dije a Nathalia: “Uy no, va a trollear fijo.” Pero luego terminó pickeando Killjoy. Y no sé cómo explicarlo, pero ahí empezó algo. Pequeñito, imperceptible, como una chispa.</p>
      <p>Jugamos esa partida y terminamos cayéndonos bien. Todos en el grupo fluyeron, pero ella… tenía algo diferente. Esa noche nos quedamos jugando hasta la madrugada. Y no porque el juego estuviera bueno, sino porque su risa, sus comentarios, su forma de mirar el juego… todo eso me mantenía despierto.</p>
      <p>Después empezamos a hablar por Riot Mobile, mensajes cada tanto, pero cada tanto se volvió cada vez más seguido. Y era raro (en el buen sentido) lo bien que nos entendíamos. Como si nuestras conversaciones ya tuvieran confianza desde el principio. Como si habláramos con alguien que ya conocíamos de vidas pasadas.</p>
      <p>La invité a un servidor de Minecraft. Y ahí, fue escalando todo. Nos regalábamos cosas dentro del juego (pero se sentían más reales que cualquier otro regalo físico). Le dejaba cofres con flores o animalitos, y no decía nada, solo esperaba que lo viera y sonriera. Porque aunque no la veía, yo juraba que lo hacía.</p>
      <p>Después vino Instagram. Más charlas. Más cercanía. Más nosotros. Recuerdo con esa mezcla de ternura y vergüenza el primer “te quiero” que le dije (el primer te quiero no se lo dije en instagram). Temblaba mientras lo escribía, lo juro. Y peor aún el “creo que me gustas”, porque eso ya era cruzar una línea sin saber si había suelo del otro lado. Pero sí lo había. Porque ella me respondió con esa forma tan bonita de hacerlo sentir fácil. Como si lo estuviera esperando.</p>
      <p>Veíamos Ladybug juntos en Rave, aunque yo jamás pensé volver a ver algo así. Pero por ella, por ella veía lo que sea. Jugábamos otros juegos solo para tener excusa de pasar tiempo juntos. Y no necesitaba más. Me sentía en casa. Me sentía visto. Me sentía querido.</p>
      <p>Y luego, llegó ese momento. Tenía de fondo “Es por ti” de Juanes, porque sí, cursi, romántico, cliché y todo lo que quieras. Pero era nuestra banda sonora. Le dije que la amaba. Fue como soltar todo lo que llevaba dentro, como una confesión con el corazón en las manos.</p>
      <p>Y cuando me dijo que sí, sonreí. Pero no solo por un rato. Sonreí hasta el día siguiente. Dormí con una sonrisa que me dolía en la cara, pero me curaba el alma.</p>
      <p>Y así fue como me enamoré de una chica que empezó como Killjoy en Ascent. Y terminó siendo la mujer de mis amores, mi compañera, mi futura esposa y mi “te amo” más sincero.</p>
    </section>

    <section id="poema-mariana">
      <h2>Mariana</h2>
      <p><em>Mariana, te pienso y todo se calma, como si el mundo aprendiera a flotar.<br>
      No estás en mis ojos, estás en mi alma, y aún sin tocarte, te puedo abrazar.<br>
      Hay algo en tus frases, en lo que callas, que sabe quedarse, que sabe cuidar.<br>
      No sé si eres magia, destino o murallas, pero eres mi forma de querer de verdad.</em></p>

      <p><em>No tienes un rostro en mis pensamientos, pero hay una esencia que huele a hogar.<br>
      Estás en mis días, estás en mis tiempos, te siento tan cerca, como si la felicidad no fuera a terminar.<br>
      No necesito tenerte presente para saber cuánto puedes sanar.<br>
      Eres el verso que escribe mi mente, sin tinta ni libro, con ganas de volar.</em></p>

      <p><em>Mariana, eres risa que viaja en la brisa, refugio invisible, señal sin final.<br>
      Y aunque este amor no se vea a simple vista, late tan fuerte, que es simplemente real.</em></p>
    </section>


    <section id="seccion2">
      <h2>Nuestro primer mes juntos</h2>
      <p> Aunque parece poco tiempo, cada día contigo ha sido una aventura. Me haces reír, me haces pensar, y sobre todo, me haces sentir que la vida es mucho más bonita cuando la comparto contigo. Gracias por cada mensaje, cada llamada, cada risa, y cada momento que hemos creado. Eres una persona increíble, y estoy emocionado por todo lo que nos espera. Feliz primer mes, mi amor. Te quiero muchísimo. <i class="fa-solid fa-heart"></i> </p>
    </section>

    <section id="seccion3">
      <h2>Mis promesas para ti</h2>
      <ul>
        <li>Prometo seguir descubriendo cada faceta de tu ser, enamorándome un poco más de cada detalle, de cada nuevo matiz que te define.</li>
        <li>Prometo ser tu pilar inquebrantable, estar contigo en cada triunfo para celebrarlo con la alegría más pura, y en cada desafío, ofreciéndote mi apoyo incondicional.</li>
        <li>Prometo que mi misión será siempre dibujarte una sonrisa, incluso en los días más grises, porque tu alegría ilumina mi mundo.</li>
        <li>Prometo escucharte con el alma, buscar comprender cada uno de tus pensamientos y sentimientos, y respetar siempre la hermosa persona que eres, porque tu felicidad es el faro que guía mis pasos.</li>
        <li>Y sobre todo, prometo amarte con la intensidad más sincera y profunda de mi corazón, hoy, mañana y en cada amanecer que el destino nos regale juntos.</li>
      </ul>
    </section>

    <div class="reproductor dark-mode">
      <img id="portadaDisco" src="" alt="Portada de la música">
      <audio id="miAudio" src="" loop preload="auto"></audio>
      <div class="titulo">
        <span id="tituloCancion"></span>
        <br>
        <small id="artistaCancion"></small>
      </div>
      <div class="tiempo">
        <span id="tiempoActual">0:00</span>
        <span id="tiempoTotal">0:00</span>
      </div>
      <input type="range" id="barraProgreso" class="barra" value="0">
      <div class="controles">
        <button id="btnRetroceder"><i class="fa-solid fa-backward-step"></i></button>
        <button id="btnReproducirPausar"><i class="fa-solid fa-play"></i></button>
        <button id="btnAvanzar"><i class="fa-solid fa-forward-step"></i></button>
        <div class="volumen">
          <i class="fa-solid fa-volume-high"></i>
          <input type="range" id="volRange" min="0" max="1" step="0.01" value="0.10" class="barra">
        </div>
      </div>
    </div>

    <button class="modo-btn">
      <i class="fa-solid fa-moon"></i>
    </button>
  </div>

  <script>
    // Variables y elementos del DOM
    const body = document.body;
    const modoBtn = document.querySelector('.modo-btn');
    const modoIcon = modoBtn.querySelector('i');
    const miAudio = document.getElementById('miAudio');
    const btnReproducirPausar = document.getElementById('btnReproducirPausar');
    const iconoReproducirPausar = btnReproducirPausar.querySelector('i');
    const barraProgreso = document.getElementById('barraProgreso');
    const volRange = document.getElementById('volRange');
    const reproductor = document.querySelector('.reproductor');
    const portadaDisco = document.getElementById('portadaDisco');
    const tituloCancionElem = document.getElementById('tituloCancion');
    const artistaCancionElem = document.getElementById('artistaCancion');
    const btnRetroceder = document.getElementById('btnRetroceder');
    const btnAvanzar = document.getElementById('btnAvanzar');
    const pantallaInicio = document.getElementById('pantalla-inicio');
    const contenidoPrincipal = document.getElementById('contenido-principal');
    const tiempoActualElem = document.getElementById('tiempoActual');
    const tiempoTotalElem = document.getElementById('tiempoTotal');

    let isReproductorMaximized = false;
    let isPlaying = false;
    const maxHearts = 30;
    const hearts = new Set();

    // Array de canciones con rutas ajustadas y el orden deseado
    const playlist = [
      { title: "Es por ti", artist: "Juanes", audioSrc: "audio/esporti.mp3", coverSrc: "audio/cover.jpg" },
      { title: "Amor Completo", artist: "Mon Laferte", audioSrc: "audio/amorcompleto.mp3", coverSrc: "audio/cover2.jpg" },
      { title: "Compartir", artist: "Carla Morrison", audioSrc: "audio/compartir.mp3", coverSrc: "audio/cover3.jpg" }
    ];
    let currentSongIndex = 0;

    // Función para formatear el tiempo (MM:SS)
    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
    }

    // Función para cargar una canción
    function loadSong(songIndex) {
      const song = playlist[songIndex];
      miAudio.src = song.audioSrc;
      portadaDisco.src = song.coverSrc;
      tituloCancionElem.textContent = song.title;
      artistaCancionElem.textContent = song.artist;
      barraProgreso.value = 0;
      tiempoActualElem.textContent = '0:00';
      tiempoTotalElem.textContent = '0:00';
      updateProgressBarBackground(barraProgreso);

      miAudio.load();

      if (isPlaying) {
        miAudio.play().catch(error => console.error("Autoplay prevented on song change:", error));
      } else {
        iconoReproducirPausar.classList.remove('fa-pause');
        iconoReproducirPausar.classList.add('fa-play');
      }
    }

    // Evento 'loadedmetadata' para obtener la duración total de la canción una vez que se carga
    miAudio.addEventListener('loadedmetadata', () => {
      tiempoTotalElem.textContent = formatTime(miAudio.duration);
    });
    // Funciones para navegar entre canciones
    function playNextSong() {
      currentSongIndex = (currentSongIndex + 1) % playlist.length;
      loadSong(currentSongIndex);
      if (isPlaying) {
        miAudio.play();
      }
    }

    // Modificación: Rebobinar la canción actual en lugar de ir a la anterior
    function playPreviousSong() {
        miAudio.currentTime = 0; // Reinicia la canción actual
        if (isPlaying) { // Si estaba sonando, la reproduce desde el inicio
            miAudio.play();
        }
    }

    // Event Listeners para los botones de navegación
    btnAvanzar.addEventListener('click', () => {
      playNextSong();
    });
    btnRetroceder.addEventListener('click', () => {
      playPreviousSong();
    });
    // Function to initialize the mode button icon
    const initializeModeButton = () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        body.classList.add('dark-mode');
        modoIcon.classList.remove('fa-moon');
        modoIcon.classList.add('fa-sun');
        reproductor.classList.add('dark-mode');
      } else {
        body.classList.remove('dark-mode');
        modoIcon.classList.remove('fa-sun');
        modoIcon.classList.add('fa-moon');
        reproductor.classList.remove('dark-mode');
      }
    };

    // Función para alternar modo oscuro/claro
    const toggleDarkMode = () => {
      body.classList.toggle('dark-mode');
      if (body.classList.contains('dark-mode')) {
        modoIcon.classList.remove('fa-moon');
        modoIcon.classList.add('fa-sun');
        reproductor.classList.add('dark-mode');
        localStorage.setItem('theme', 'dark');
      } else {
        modoIcon.classList.remove('fa-sun');
        modoIcon.classList.add('fa-moon');
        reproductor.classList.remove('dark-mode');
        localStorage.setItem('theme', 'light');
      }
      // Actualiza el fondo de las barras al cambiar de modo
      updateProgressBarBackground(barraProgreso);
      updateProgressBarBackground(volRange);
    };
    modoBtn.addEventListener('click', toggleDarkMode);

    // Función para actualizar el fondo de la barra de progreso (para que se vea el progreso)
    function updateProgressBarBackground(barElement) {
        const value = (barElement.value - barElement.min) / (barElement.max - barElement.min) * 100;
        let color1, color2;
        if (body.classList.contains('dark-mode')) {
            color1 = '#ffda66';
            color2 = '#555';
        } else {
            color1 = '#8a2be2';
            color2 = '#e0e0e0';
        }
        barElement.style.backgroundImage = `linear-gradient(to right, ${color1} 0%, ${color1} ${value}%, ${color2} ${value}%, ${color2} 100%)`;
    }

    // Sincronizar barra de progreso con la reproducción y actualizar tiempo
    miAudio.addEventListener('timeupdate', () => {
      const progress = (miAudio.currentTime / miAudio.duration) * 100;
      barraProgreso.value = progress;
      updateProgressBarBackground(barraProgreso);
      tiempoActualElem.textContent = formatTime(miAudio.currentTime);
    });
    // Permitir al usuario cambiar el progreso de la canción
    barraProgreso.addEventListener('input', () => {
      const seekTime = (barraProgreso.value / 100) * miAudio.duration;
      miAudio.currentTime = seekTime;
      tiempoActualElem.textContent = formatTime(miAudio.currentTime);
    });
    // Control de volumen
    volRange.addEventListener('input', () => {
      miAudio.volume = volRange.value;
      updateProgressBarBackground(volRange);
    });
    // Inicializar volumen y barra de volumen al cargar
    miAudio.volume = volRange.value;
    updateProgressBarBackground(volRange);
    updateProgressBarBackground(barraProgreso);
    // Función para reproducir/pausar
    btnReproducirPausar.addEventListener('click', () => {
      if (miAudio.paused) {
        miAudio.play().catch(error => console.error("Audio playback failed on play click:", error));
        isPlaying = true;
        iconoReproducirPausar.classList.remove('fa-play');
        iconoReproducirPausar.classList.add('fa-pause');
      } else {
        miAudio.pause();
        isPlaying = false;
        iconoReproducirPausar.classList.remove('fa-pause');
        iconoReproducirPausar.classList.add('fa-play');
      }
    });
    // Asegurar que el ícono de play/pause se actualice si el audio termina
    miAudio.addEventListener('ended', () => {
        isPlaying = false;
        iconoReproducirPausar.classList.remove('fa-pause');
        iconoReproducirPausar.classList.add('fa-play');
        playNextSong();
    });
    // Lógica para la generación controlada de corazones
    const corazonesContainer = document.querySelector('.corazones');
    function crearCorazon() {
        if (hearts.size >= maxHearts) {
            const oldestHeart = hearts.values().next().value;
            if (oldestHeart) {
                oldestHeart.remove();
                hearts.delete(oldestHeart);
            }
        }

        const corazon = document.createElement('span');
        corazon.classList.add('corazon');
        corazon.innerHTML = '❤️';
        corazon.style.left = Math.random() * 100 + 'vw';
        corazon.style.animationDuration = Math.random() * 5 + 7 + 's';
        corazon.style.animationDelay = Math.random() * -10 + 's';
        corazonesContainer.appendChild(corazon);
        hearts.add(corazon);

        corazon.addEventListener('animationend', () => {
            corazon.remove();
            hearts.delete(corazon);
        });
    }

    // Generar un número inicial de corazones
    for (let i = 0; i < maxHearts; i++) {
        crearCorazon();
    }
    // Continuar generando corazones a un ritmo constante para reemplazar los que desaparecen
    setInterval(crearCorazon, 1000);

    // Cargar la primera canción al inicio
    loadSong(currentSongIndex);
    // Initial setup on page load
    window.addEventListener('load', () => {
        initializeModeButton();
        loadSong(currentSongIndex);
    });
    // Lógica para pantalla de inicio y selección de dispositivo
    function seleccionarDispositivo(tipo) {
      // Aplicar cambios visuales de transición inmediatamente
      pantallaInicio.classList.add('transicion-lila');
      document.querySelector('#pantalla-inicio h2').style.color = '#4a4a4a';
      Array.from(document.querySelectorAll('.dispositivo-etiqueta')).forEach(el => el.style.color = '#4a4a4a');

      // Añadir la clase 'hidden' para iniciar la transición de opacidad
      pantallaInicio.classList.add('hidden');
      // Aplicar la clase de dispositivo inmediatamente para CSS
      if (tipo === 'celular') {
        body.classList.add('celular');
      } else {
        body.classList.remove('celular');
      }

      // Después de que la pantalla de inicio haya terminado su transición de desvanecimiento
      setTimeout(() => {
        pantallaInicio.style.display = 'none';
        contenidoPrincipal.style.display = 'block';

        // Un pequeño retraso adicional para asegurar que la transición de opacidad del contenido principal se vea
        setTimeout(() => {
          contenidoPrincipal.style.opacity = '1';

          // Una vez que el contenido es visible y la interacción del usuario es clara,
          // intentar reproducir el audio. Esto ayuda a cumplir con las políticas de autoplay de los navegadores.
          miAudio.muted = false;
          miAudio.play().catch(error => {
              console.error("Audio playback failed on device selection:", error);
          });
          isPlaying = true;
          iconoReproducirPausar.classList.remove('fa-play');
          iconoReproducirPausar.classList.add('fa-pause');

        }, 10);

      }, 400);
    }

    // Toggle maximizado/minimizado del reproductor en móvil
    reproductor.addEventListener('click', (event) => {
        // Solo aplicar si estamos en modo celular y no se hizo clic en un control del reproductor
        if (body.classList.contains('celular')) {
            const isClickOnControls = event.target.closest('.controles') || event.target.closest('.barra') || event.target.closest('.volumen');

            if (!isClickOnControls) {
                reproductor.classList.toggle('maximized');
                isReproductorMaximized = reproductor.classList.contains('maximized');
            }
        }
    });
    // Cerrar el reproductor maximizado si se hace clic fuera (solo en celular)
    document.addEventListener('click', (event) => {
        if (body.classList.contains('celular') && isReproductorMaximized) {
            if (!reproductor.contains(event.target)) {
                reproductor.classList.remove('maximized');
                isReproductorMaximized = false;
            }
        }
    });
  </script>
</body>
</html>
